<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* Style the container */
    .container {
      width: 100vw; /* Fixed width to prevent layout changes */
      height: 200px;
      overflow: hidden;
      display: flex;
      justify-content: space-around;
    }

    /* Style the moving image */
    .moving-image {
      flex: 0 0 100px; /* Fixed width for each image */
      height: 100px; /* Set your desired height */
      background-color: #3498db; /* Set your desired background color */
      margin-right: 10px; /* Margin for spacing between images (adjust as needed) */
      animation: moveLeft 4s linear; /* Set the animation duration and timing function */
      opacity: 1; /* Initial opacity */
      /* transition: opacity 0.5s ease; /* Smooth transition for opacity changes */


      transition: transform 1s ease-in-out;
    }

    /* Keyframe animation for moving the image from right to left */
    @keyframes moveLeft {
      0% {
        transform: translateX(100vw); /* Start position: completely off the right side */
      }
      100% {
        transform: translateX(0); /* End position: completely off the left side */
      }
    }

    
    .moveLeft-short {
     
        transform: translateX(-100vw);
    }

    .moveleftagain{
        animation: moveLeft infinite 4s linear; 
    }


    




  </style>
</head>
<body>

<div class="container">
    <div class="moving-image"></div>
    <div class="moving-image"></div>
    <div class="moving-image"></div>
    <div class="moving-image"></div>
</div>

<script>
let index = 0;
let lol = document.querySelectorAll('.moving-image');

let intervals
let intervals2
 setTimeout(function() {
   
    lol.forEach((userItem) => {
        userItem.classList.add("move-left")
});
// 0,5 offset


intervals = setInterval(function() {
        console.log(index);
        console.log(lol[index].classList);
        lol[index].classList.add("moveLeft-short")
        index++;
        index = index % lol.length;
        if(index == 0){
            clearInterval(intervals)
                    intervals2 = setInterval(function() {
                lol[index].classList.add("moveleftagain")
                index++;
                index = index % lol.length;
                if(index == 0){
                    clearInterval(intervals)
                    
                }
            }, 1000);
        }
    }, 2000);
  }, 2000);


//   setInterval(function() {
//     const cont = document.querySelector('.container');
//     let img = document.createElement("div");
//     img.classList.add("moving-image");
//     cont.appendChild(img);

//     // Trigger the removal with a fade-out effect
//     setTimeout(function() {
//       const movingImage = cont.children[0];
//       if (movingImage) {
//         movingImage.style.opacity = 0; // Start fade-out effect
//         setTimeout(function() {
//           cont.removeChild(movingImage); // Remove the element after the fade-out
//         }, 500); // Wait for the fade-out transition to complete (adjust as needed)
//       }
//     }, 4000); // The timeout matches the animation duration
//   }, 2000); // Reduced interval to spawn images every 2 seconds

</script>

</body>
</html>
